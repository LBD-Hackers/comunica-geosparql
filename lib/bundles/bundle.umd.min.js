!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["ifc-lbd"]={})}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a={},r={};Object.defineProperty(r,"__esModule",{value:!0}),r.BlankNode=void 0;r.BlankNode=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}};var o={},i={};Object.defineProperty(i,"__esModule",{value:!0}),i.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}i.DefaultGraph=n,n.INSTANCE=new n;var l={},s={};Object.defineProperty(s,"__esModule",{value:!0}),s.NamedNode=void 0;s.NamedNode=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}},Object.defineProperty(l,"__esModule",{value:!0}),l.Literal=void 0;const u=s;class d{constructor(e,t){this.termType="Literal",this.value=e,"string"==typeof t?(this.language=t,this.datatype=d.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=d.XSD_STRING)}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}l.Literal=d,d.RDF_LANGUAGE_STRING=new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),d.XSD_STRING=new u.NamedNode("http://www.w3.org/2001/XMLSchema#string");var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.Quad=void 0;c.Quad=class{constructor(e,t,a,r){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=a,this.graph=r}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}};var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.Variable=void 0;p.Variable=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}},Object.defineProperty(o,"__esModule",{value:!0}),o.DataFactory=void 0;const h=r,f=i,v=l,m=s,y=c,N=p;let b=0;var g;function T(e){if((e=e.toLocaleLowerCase()).startsWith("point")){var t=function(e){return e.split("(")[1].split(")")[0].trim().split(" ").map((function(e){return parseFloat(e)}))}(e);return{coordinates:t,type:g.POINT}}}o.DataFactory=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${b++}_`}namedNode(e){return new m.NamedNode(e)}blankNode(e){return new h.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,t){return new v.Literal(e,t)}variable(e){return new N.Variable(e)}defaultGraph(){return f.DefaultGraph.INSTANCE}quad(e,t,a,r){return new y.Quad(e,t,a,r||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(v.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}},function(e){var a=t&&t.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=t&&t.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r,e),n(o,e),n(i,e),n(l,e),n(s,e),n(c,e),n(p,e)}(a),function(e){e.POINT="point"}(g||(g={}));var w=new a.DataFactory,_={"http://www.opengis.net/def/function/geosparql/distance":function(e){var t=null!=e[2]?parseFloat(e[2].value):8;if("Literal"===e[0].termType&&"Literal"===e[1].termType){var a=T(e[0].value),r=T(e[1].value);if(a&&r&&a.type==g.POINT&&r.type==g.POINT){var o=a.coordinates[0]-r.coordinates[0],i=a.coordinates[1]-r.coordinates[1],n=a.coordinates[2]-r.coordinates[2],l=O(Math.sqrt(o*o+i*i+n*n),t);return w.literal(l.toString(),w.namedNode("http://www.w3.org/2001/XMLSchema#decimal"))}}return w.literal("ERROR")},"http://www.opengis.net/def/function/geosparql/inside":function(e){var t=null!=e[2]?parseFloat(e[2].value):8;if("Literal"===e[0].termType&&"Literal"===e[1].termType){var a=T(e[0].value),r=T(e[1].value);if(a&&r&&a.type==g.POINT&&r.type==g.POINT){var o=a.coordinates[0]-r.coordinates[0],i=a.coordinates[1]-r.coordinates[1],n=a.coordinates[2]-r.coordinates[2],l=O(Math.sqrt(o*o+i*i+n*n),t);return w.literal(l.toString(),w.namedNode("http://www.w3.org/2001/XMLSchema#decimal"))}}return w.literal("ERROR")}};function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(e*Math.pow(10,t)+Number.EPSILON)/Math.pow(10,t)}e.geoSPARQLFunctions=_,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=bundle.umd.min.js.map
